{"version":3,"sources":["webpack:///./src/common/config.js","webpack:///src/components/ui-header.vue","webpack:///./src/components/ui-header.vue?aea1","webpack:///./src/components/ui-header.vue","webpack:///src/components/ui-navbar.vue","webpack:///./src/components/ui-navbar.vue?47d6","webpack:///./src/components/ui-navbar.vue","webpack:///src/components/ui-content.vue","webpack:///./src/components/ui-content.vue?4014","webpack:///./src/components/ui-content.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1a94","webpack:///./src/App.vue","webpack:///./src/store/mutation-types.js","webpack:///./src/store/mutations.js","webpack:///./src/common/request.js","webpack:///./src/common/getData.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["langs","channelList","value","label","langList","appkey","mapping","gTobaidu","en","ru","pt","zh-CN","zh-TW","ja","es","fr","baidutog","zh","cht","jp","spa","fra","ui_header","methods","extends_default","status","components_ui_header","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","size","on","on-change","changeChannel","model","callback","$$v","channe","expression","_l","item","key","_s","changeWord","switchWord","staticRenderFns","src_components_ui_header","__webpack_require__","normalizeComponent","ssrContext","ui_navbar","langFrom","newValue","langTo","Object","vuex_esm","_this","query","result","trans","translation","SAVE_TRANSLATION","trim","components_ui_navbar","chooseLangFrom","langF","type","chooseLangTo","langT","slice","click","translate","src_components_ui_navbar","ui_navbar_normalizeComponent","ui_content","computed","valueDst","text","getDetectLang","leftwords","dst","areaHighWordNum","i","str","sum","rightwords","len","components_ui_content","shape","icon","toClosed","autosize","minRows","on-keyup","detectSrc","valueSrc","ref","readonly","App","ui_content_normalizeComponent","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","GET_DETECTLANG","GET_TRANSLATION","mutations","_SET_CHANNEL$SET_ORIG","defineProperty_default","state","channel","lang","ischecked","hasChecked","axios_default","a","defaults","baseURL","getData_langFromDect","substring","langfrom","salt","Date","getTime","appid","str1","sign","md5_default","promise_default","resolve","reject","jsonp_default","jsonp","err","data","error","getData_translate","url","res","post","then","catch","console","log","actions","_ref","commit","asyncToGenerator_default","regenerator_default","mark","_callee","reslang","wrap","_context","prev","next","sent","from","stop","getTranslation","_ref2","func","_this2","_callee2","_context2","to","api","vue_esm","use","store","Store","config","productionTip","iview_default","el","template","components"],"mappings":"6KAGaA,GACTC,cACMC,MAAO,SAAUC,MAAO,WACxBD,MAAO,QAASC,MAAO,SACvBD,MAAO,SAAUC,MAAO,SAG9BC,WACMF,MAAO,OAAQC,MAAO,SACtBD,MAAO,QAASC,MAAO,OACvBD,MAAO,KAAMC,MAAO,OACpBD,MAAO,KAAMC,MAAO,SACpBD,MAAO,KAAMC,MAAO,OACpBD,MAAO,KAAMC,MAAO,OACpBD,MAAO,KAAMC,MAAO,SACpBD,MAAO,KAAMC,MAAO,OACpBD,MAAO,QAASC,MAAO,YAIpBE,EACF,oBADEA,EAEJ,uBAGIC,GACTC,UACIC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,QAAS,KACTC,QAAS,MACTC,GAAI,KACJC,GAAI,MACJC,GAAI,OAERC,UACIR,GAAI,KACJC,GAAI,KACJC,GAAI,KACJO,GAAI,QACJC,IAAK,QACLC,GAAI,KACJC,IAAK,KACLC,IAAK,OC1BbC,oEAKA,SAEA,uBAIAC,QAAAC,6CAEAC,iBAIA,4DAEAvB,2CAIA,kBCzCAwB,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,UAAoBN,EAAAO,GAAA,YAAAP,EAAAO,GAAA,KAAAH,EAAA,OAA2CE,YAAA,sBAAgCF,EAAA,UAAeE,YAAA,QAAAE,OAA2BC,KAAA,SAAeC,IAAKC,YAAAX,EAAAY,eAA8BC,OAAQvC,MAAA0B,EAAA,OAAAc,SAAA,SAAAC,GAA4Cf,EAAAgB,OAAAD,GAAeE,WAAA,WAAsBjB,EAAAkB,GAAAlB,EAAA,qBAAAmB,GAAyC,OAAAf,EAAA,UAAoBgB,IAAAD,EAAA7C,MAAAkC,OAAsBlC,MAAA6C,EAAA7C,SAAoB0B,EAAAO,GAAA,aAAAP,EAAAqB,GAAAF,EAAA5C,OAAA,mBAAyDyB,EAAAO,GAAA,KAAAH,EAAA,OAAyBE,YAAA,UAAoBF,EAAA,QAAAJ,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAH,EAAA,YAAyDE,YAAA,SAAAE,OAA4BC,KAAA,SAAeC,IAAKC,YAAAX,EAAAsB,YAA2BT,OAAQvC,MAAA0B,EAAA,WAAAc,SAAA,SAAAC,GAAgDf,EAAAuB,WAAAR,GAAmBE,WAAA,iBAA0B,UAE50BO,oBCCjB,IAuBAC,EAvBAC,EAAA,OAcAC,CACAjC,EACAI,GATA,EAVA,SAAA8B,GACAF,EAAA,SAaA,KAEA,MAUA,QCJAG,6GAUAC,qDAGAC,mDAKAC,iDAGAD,KAIApC,QAAAC,OAAAqC,OAAAC,EAAA,EAAAD,EAEA,gBACA,eACA,iBACA,kBAEA,qBAAAA,OAAAC,EAAA,EAAAD,EAEA,gBAEA,sEAGA3D,sBAEAA,wCAIAA,oBACAA,yBAGA,IAAA6D,EAAAlC,yBACA6B,6BACAE,2BACAI,kEAGAC,sBACAC,sBACAC,qBACA,WAIAC,wCACA,yBACA,uEAIA,kBACAC,WCxFAC,GADiB3C,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,uBAAiCF,EAAA,UAAeE,YAAA,gBAAAI,IAAgCC,YAAAX,EAAA2C,gBAA+B9B,OAAQvC,MAAA0B,EAAA,MAAAc,SAAA,SAAAC,GAA2Cf,EAAA4C,MAAA7B,GAAcE,WAAA,UAAqBjB,EAAAkB,GAAAlB,EAAA,kBAAAmB,GAAsC,OAAAf,EAAA,UAAoBgB,IAAAD,EAAA7C,MAAAkC,OAAsBlC,MAAA6C,EAAA7C,SAAoB0B,EAAAO,GAAA,eAAAP,EAAAqB,GAAAF,EAAA5C,OAAA,mBAA2DyB,EAAAO,GAAA,KAAAH,EAAA,QAA0BE,YAAA,QAAAE,OAA2BqC,KAAA,uBAAApC,KAAA,QAA2CT,EAAAO,GAAA,KAAAH,EAAA,UAA2BE,YAAA,cAAAI,IAA8BC,YAAAX,EAAA8C,cAA6BjC,OAAQvC,MAAA0B,EAAA,MAAAc,SAAA,SAAAC,GAA2Cf,EAAA+C,MAAAhC,GAAcE,WAAA,UAAqBjB,EAAAkB,GAAAlB,EAAAxB,SAAAwE,MAAA,YAAA7B,GAA+C,OAAAf,EAAA,UAAoBgB,IAAAD,EAAA7C,MAAAkC,OAAsBlC,MAAA6C,EAAA7C,SAAoB0B,EAAAO,GAAA,iBAAAP,EAAAqB,GAAAF,EAAA5C,OAAA,mBAA6DyB,EAAAO,GAAA,KAAAH,EAAA,UAA4BE,YAAA,YAAAE,OAA+BqC,KAAA,WAAiBnC,IAAKuC,MAAAjD,EAAAkD,aAAuBlD,EAAAO,GAAA,gBAEpgCiB,oBCCjB,IAuBA2B,EAvBAzB,EAAA,OAcA0B,CACAvB,EACAa,GATA,EAVA,SAAAd,GACAF,EAAA,SAaA,KAEA,MAUA,QCPA2B,mCAIA,aACA,aACA,kBAEA,MAEAC,SAAA1D,OAAAqC,OAAAC,EAAA,EAAAD,EAEA,WACA,SAEA,iFAIAsB,qDAIAxB,MAIApC,QAAAC,OAAAqC,OAAAC,EAAA,EAAAD,EAEA,gBAEA,mBAAAA,OAAAC,EAAA,EAAAD,EAEA,gBAEA,0CACA,IAAAE,EAAAlC,gBACA3B,0BACAkF,uBACAA,2BACA1B,+CAGA2B,iBACA,4CAIAC,iDACAC,kDAGAC,kBACA,qBACA,gDAEA,KAEA,MAEA,OACA,uCACAC,iBACAC,IACAC,EACA,QAEAA,SAGAJ,qCAGA,sBACA,8CAKA,YACAJ,gBACAS,mDACAC,4BAIA,6DAKA,kBACA,kBACA,uDC7GAC,GADiBnE,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,SAAmBF,EAAA,UAAeE,YAAA,SAAAE,OAA4BqC,KAAA,QAAApC,KAAA,QAAA0D,MAAA,SAAAC,KAAA,SAA8D1D,IAAKuC,MAAAjD,EAAAqE,YAAsBrE,EAAAO,GAAA,KAAAH,EAAA,SAA0BE,YAAA,gBAAAE,OAAmCqC,KAAA,WAAAyB,UAA8BC,QAAA,KAAa7D,IAAK8D,WAAAxE,EAAAyE,WAAyB5D,OAAQvC,MAAA0B,EAAA,SAAAc,SAAA,SAAAC,GAA8Cf,EAAA0E,SAAA3D,GAAiBE,WAAA,cAAwBjB,EAAAO,GAAA,KAAAH,EAAA,QAAyBE,YAAA,eAAyBN,EAAAO,GAAAP,EAAAqB,GAAArB,EAAA0D,WAAA,IAAA1D,EAAAqB,GAAArB,EAAA4D,qBAAA,GAAA5D,EAAAO,GAAA,KAAAH,EAAA,OAA4FE,YAAA,UAAoBF,EAAA,SAAcuE,IAAA,YAAArE,YAAA,gBAAAE,OAAmDqC,KAAA,WAAAyB,UAA8BC,QAAA,IAAYK,SAAA,IAAe/D,OAAQvC,MAAA0B,EAAA,SAAAc,SAAA,SAAAC,GAA8Cf,EAAAuD,SAAAxC,GAAiBE,WAAA,cAAwBjB,EAAAO,GAAA,KAAAH,EAAA,QAAyBE,YAAA,gBAA0BN,EAAAO,GAAAP,EAAAqB,GAAArB,EAAAgE,YAAA,IAAAhE,EAAAqB,GAAArB,EAAA4D,qBAAA,MAE76BpC,oBCCjB,ICSAqD,QAEA,8BAEApD,cACA0B,eDdAzB,EAAA,OAcAoD,CACAzB,EACAa,GATA,EAVA,SAAAtC,GACAF,EAAA,SAaA,KAEA,MAUA,UEvBAqD,GADiBhF,OAFjB,WAA0B,IAAaG,EAAbD,KAAaE,eAA0BC,EAAvCH,KAAuCI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBI,OAAOwE,GAAA,SAAY5E,EAAA,aAAnGH,KAAmGM,GAAA,KAAAH,EAAA,aAAnGH,KAAmGM,GAAA,KAAAH,EAAA,mBAE5GoB,oBCCjB,MAuBAyD,EAvBAvD,EAAA,OAcAwD,CACAL,EACAE,GATA,EAVA,SAAAnD,GACAF,EAAA,SAaA,KAEA,MAUA,6BCtBayD,EAAiB,iBACjBC,EAAkB,kBCO/BC,GAAAC,KAAAC,IAAAD,EDZ2B,cCY3B,SAEkBE,EAAOC,GACjBD,EAAMC,QAAUA,IAHxBF,IAAAD,EDX6B,gBCW7B,SAMoBE,EAAOE,GACnBF,EAAM1D,SAAW4D,IAPzBH,IAAAD,EDV4B,eCU5B,SAUmBE,EAAOE,GAClBF,EAAMxD,OAAS0D,IAXvBH,IAAAD,EDT8B,iBCS9B,SAcqBE,EAAOG,GACpBH,EAAMI,WAAaD,IAf3BJ,IAAAD,EAmBKH,EAnBL,SAmBqBK,EAAOE,GACpBF,EAAM1D,SAAW4D,IApBzBH,IAAAD,EAuBKF,EAvBL,SAuBsBI,EAAOnD,GACrBmD,EAAMnD,OAASA,IAxBvBkD,IAAAD,EDN8B,iBCM9B,SA4BqBE,EAAOpD,GACpBoD,EAAMpD,MAAQA,IA7BtBmD,IAAAD,EDLgC,mBCKhC,SAgCuBE,EAAOjD,GACtBiD,EAAMjC,SAAWhB,IAjCzB+C,uFCNAO,EAAAC,EAAMC,SAASC,QAAU,sECKZC,EAAe,SAAC7D,GACzB,IAAIoB,EAAOpB,EAAMoB,KAAKf,OAAOyD,UAAU,EAAG,IACtCC,EAAWzH,EAAQC,SAASyD,EAAM+D,WAAa,OAC/CC,GAAQ,IAAIC,MAAMC,UAClBC,EAAQ9H,EACR+H,EAAOD,EAAQ/C,EAAO4C,EAAO3H,EAC7BgI,EAAOC,IAAIF,GAEf,OAAO,IAAAG,EAAAb,EAAY,SAASc,EAASC,GACjCC,IAAAC,wDAA8DvD,EAA9D,SAA2E2C,EAA3E,gBAAmGI,EAAnG,SAAiHH,EAAjH,SAA8HK,EAC1H,KACA,SAASO,EAAKC,GACV,OAAID,EACOH,EAAOK,OAEPN,EAAQK,QAMtBE,EAAY,SAACF,GACtB,OAAO,IAAAN,EAAAb,EAAY,SAASc,EAASC,GDZzC,IAAcO,EAAKH,EAAMnG,EAAXsG,ECaD,aDbMH,ECaQA,EDbFnG,ECaQ,SAACuG,GACtB,GAAIA,GAAOA,EAAIJ,KAEX,OAAOL,EAAQS,IDf3BxB,EAAAC,EAAMwB,KAAKF,EAAKH,GACXM,KAAK,SAACF,GACH,IAAIA,EAGA,OAAO,KAFPvG,EAASuG,KAIdG,MAAM,SAACN,GACNO,QAAQC,IAAIR,QErBxBS,GAEUlE,cAFK,SAAAmE,GAKR,IAAAzF,EAAAlC,KAFC4H,EAEDD,EAFCC,OACArC,EACDoC,EADCpC,MACD,OAAAsC,IAAAC,EAAAjC,EAAAkC,KAAA,SAAAC,IAAA,IAAA7F,EAAAiF,EAAAa,EAAA,OAAAH,EAAAjC,EAAAqC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACKlG,GACAoB,KAAMgC,EAAMpD,MACZ+D,SAAUX,EAAM1D,UAHrBsG,EAAAE,KAAA,EAKiBrC,EAAa7D,GAL9B,OAKKiF,EALLe,EAAAG,KAOKL,EAAUb,GAAOA,EAAImB,KAAOnB,EAAImB,KAAO,OAC3CX,EAAO1C,EAAgBzG,EAAQU,SAAS8I,IARzC,wBAAAE,EAAAK,SAAAR,EAAA9F,KAAA2F,IAWGY,eAhBK,SAAAC,EAmBRC,GAAM,IAAAC,EAAA5I,KAFL4H,EAEKc,EAFLd,OACArC,EACKmD,EADLnD,MACK,OAAAsC,IAAAC,EAAAjC,EAAAkC,KAAA,SAAAc,IAAA,IAAA7B,EAAA5E,EAAA,OAAA0F,EAAAjC,EAAAqC,KAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,cACDrB,GACAzD,KAAMgC,EAAMpD,MACZ4G,GAAIxD,EAAMxD,OACViH,IAAKzD,EAAMC,SAJVsD,EAAAT,KAAA,EAMcnB,EAAUF,GANxB,OAMD5E,EANC0G,EAAAR,KAQLV,EAAOzC,EAAiB/C,EAAO4E,MAC/B2B,IATK,wBAAAG,EAAAN,SAAAK,EAAAD,KAAAf,KCtBboB,EAAA,QAAIC,IAAIjH,EAAA,GAER,IAUAkH,EAAA,IAAmBlH,EAAA,EAAKmH,OACpB7D,OAVAC,QAAS,SACT3D,SAAU,OACVE,OAAQ,QACRI,MAAO,GACPC,OAAQ,GACRkB,SAAU,GACVqC,YAAY,GAKZ+B,UACAtC,6CCbJ6D,EAAA,QAAII,OAAOC,eAAgB,EAC3BL,EAAA,QAAIC,IAAIK,EAAA1D,GAGR,IAAIoD,EAAA,SACAO,GAAI,OACJL,QACAM,SAAU,SACVC,YAAc9E,IAAAI","file":"static/js/app.56cebfa85d7a043cb45c.js","sourcesContent":["/*\n  配置参数 langs、urls\n*/\nexport const langs = {\n    channelList: [\n        { value: 'google', label: '谷歌(中国)' },\n        { value: 'baidu', label: '百度翻译' },\n        { value: 'youdao', label: '有道翻译' }\n    ],\n    // 谷歌、百度、有道 接口统一映射：\n    langList: [\n        { value: 'auto', label: '自动检测' },\n        { value: 'zh-CN', label: '中文' },\n        { value: 'en', label: '英语' },\n        { value: 'es', label: '西班牙语' },\n        { value: 'fr', label: '法语' },\n        { value: 'ru', label: '俄语' },\n        { value: 'pt', label: '葡萄牙语' },\n        { value: 'ja', label: '日语' },\n        { value: 'zh-TW', label: '中文(繁体)' }\n    ]\n}\n\nexport const appkey = {\n    appid: '20180105000112268',\n    key: 'vJbFRGfcJz9dS0FSS7PC'\n}\n\nexport const mapping = {\n    gTobaidu: {\n        en: 'en',\n        ru: 'ru',\n        pt: 'pt',\n        'zh-CN': 'zh',\n        'zh-TW': 'cht',\n        ja: 'jp',\n        es: 'spa',\n        fr: 'fra'\n    },\n    baidutog: {\n        en: 'en',\n        ru: 'ru',\n        pt: 'pt',\n        zh: 'zh-CN',\n        cht: 'zh-TW',\n        jp: 'ja',\n        spa: 'es',\n        fra: 'fr'\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/config.js","<template>  \n  <div class=\"wrapper-header\">\n    <div class=\"title\">在线自动翻译</div>\n    <div class=\"translate-channel\">\n      <Select v-model=\"channe\" size=\"small\" class=\"langs\" @on-change=\"changeChannel\">\n          <Option v-for=\"item in channelList\" :value=\"item.value\" :key=\"item.value\">\n          {{ item.label }}\n          </Option>\n      </Select>\n      <div class=\"huaci\">\n        <span>划词翻译</span>\n        <i-switch v-model=\"switchWord\" @on-change=\"changeWord\" \n                  size=\"small\" class=\"switch\"></i-switch>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nimport { langs } from '../common/config.js'\n\nexport default{\n  data(){\n    return{\n      channelList: langs.channelList || [],\n      switchWord: true,\n      channe: 'google'\n    }\n  },\n  computed: {\n  }, \n  methods: {\n    changeWord(status) {\n      this.switchWord = !status;\n    },\n    ...mapMutations([\n\t\t\t'SET_CHANNEL'\n\t\t]),\n    changeChannel(value) {\n      this.SET_CHANNEL(value);\n      if (value != 'google') {\n        this.$Notice.warning({\n          desc:'建议使用谷歌翻译！'\n        })\n      }\n      // console.log(this.$store.state.channel)\n    }\n  }\n}\n</script>\n\n<style>\n.wrapper-header {\n    width: 82vw;\n    margin: 0 auto;\n    font-size: 62.5%;\n}\n\n.title {\n    width: 100%;\n    height: 48px;\n    font-size: 1.8rem;\n    line-height: 2;\n    margin-bottom: 10px;\n}\n\n.translate-channel {\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 10px;\n    justify-content: flex-end;\n    align-items: flex-end;\n    height: 24px;\n}\n\n.translate-channel .langs {\n    width: 8rem;\n    margin-right: 10px;\n}\n\n.translate-channel .huaci {\n    height: 24px;;\n    line-height: 24px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ui-header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper-header\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"在线自动翻译\")]),_vm._v(\" \"),_c('div',{staticClass:\"translate-channel\"},[_c('Select',{staticClass:\"langs\",attrs:{\"size\":\"small\"},on:{\"on-change\":_vm.changeChannel},model:{value:(_vm.channe),callback:function ($$v) {_vm.channe=$$v},expression:\"channe\"}},_vm._l((_vm.channelList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(\"\\n        \"+_vm._s(item.label)+\"\\n        \")])})),_vm._v(\" \"),_c('div',{staticClass:\"huaci\"},[_c('span',[_vm._v(\"划词翻译\")]),_vm._v(\" \"),_c('i-switch',{staticClass:\"switch\",attrs:{\"size\":\"small\"},on:{\"on-change\":_vm.changeWord},model:{value:(_vm.switchWord),callback:function ($$v) {_vm.switchWord=$$v},expression:\"switchWord\"}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4bc67b65\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ui-header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4bc67b65\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ui-header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ui-header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ui-header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4bc67b65\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ui-header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ui-header.vue\n// module id = null\n// module chunks = ","<template>  \n  <div class=\"wrapper-navbar\">\n    <div class=\"translate-language\">\n      <Select v-model=\"langF\" class=\"language From\" @on-change=\"chooseLangFrom\">\n          <Option v-for=\"item in langList\" :value=\"item.value\" :key=\"item.value\">\n            {{item.label}}\n          </Option>\n      </Select>\n      <Icon type=\"ios-arrow-thin-right\" size=\"30\" class=\"arrow\"></Icon>\n      <Select v-model=\"langT\" class=\"language To\" @on-change=\"chooseLangTo\">\n          <Option v-for=\"item in langList.slice(1)\" :value=\"item.value\" :key=\"item.value\">\n              {{ item.label }}\n          </Option>\n      </Select>\n      <Button type=\"primary\" class=\"translate\" @click=\"translate\">翻 译</Button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapMutations } from 'vuex'\nimport { langs, mapping } from '../common/config.js'\n\nexport default{\n  data(){\n    return{\n        langList: langs.langList || []\n    }\n  },\n  computed:{\n    langF:{\n        get: function () {\n            return this.$store.state.langFrom\n        },\n        set: function (newValue) {\n            this.$store.state.langFrom = newValue\n        }\n    },\n    langT:{\n        get: function () {\n            return this.$store.state.langTo\n        },\n        set: function (newValue) {\n            this.$store.state.langTo = newValue\n        }\n    }\n  },\n  methods: {\n    ...mapMutations([\n        'SET_ORIGNLANG',\n        'SET_GOALLANG',\n        'SET_HASCHECKED',\n        'GET_TRANSLATION',\n        'SAVE_TRANSLATION'\n    ]),\n    ...mapActions([\n        'getDetectLang',\n        'getTranslation'\n    ]),\n    chooseLangFrom(value) {\n        if (value!= 'auto') {\n            this.langF = value;\n        } \n        this.SET_ORIGNLANG(value)\n        // console.log(this.$store.state.langFrom)\n    },\n    chooseLangTo(value) {\n        this.langT = value;\n        this.SET_GOALLANG(value);\n        // console.log(this.$store.state.langTo)\n    },\n    translate(){\n        let from = this.$store.state.langFrom\n        let to = this.$store.state.langTo\n        let query = this.$store.state.query\n        if (from && to && query) {\n            this.getTranslation(()=>{\n                let trans = this.$store.state.result;\n                let translation = this.createText(trans);\n                this.SAVE_TRANSLATION(translation);\n                this.SET_HASCHECKED(true);\n                // console.log(this.$store.state.valueDst)\n            }); \n        } else {\n            this.SAVE_TRANSLATION();\n            this.SET_HASCHECKED(false);\n            this.$Message.warning('请输入翻译文本！');\n        }\n    },\n    createText(arr) {\n        let newArr = arr.map(item => item + '\\r\\n');\n        return newArr.join('').trim()\n    }\n  }\n}\n</script>\n\n<style>\n.wrapper-navbar {\n    width: 82vw;\n    margin: 0 auto;\n    font-size: 62.5%;\n}\n\n.translate-language {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    margin-bottom: 10px;\n    height: 48px;    \n}\n\n.translate-language .language {\n    width: 11rem;\n}\n\n.translate-language .translate {\n    width: 8rem;\n    margin-left: 20px;\n}\n\n.translate-language .arrow {\n    display: inline;\n    color: #dddee1;\n}\n\n.language,\n.arrow {\n    margin-right: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ui-navbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper-navbar\"},[_c('div',{staticClass:\"translate-language\"},[_c('Select',{staticClass:\"language From\",on:{\"on-change\":_vm.chooseLangFrom},model:{value:(_vm.langF),callback:function ($$v) {_vm.langF=$$v},expression:\"langF\"}},_vm._l((_vm.langList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(\"\\n          \"+_vm._s(item.label)+\"\\n        \")])})),_vm._v(\" \"),_c('Icon',{staticClass:\"arrow\",attrs:{\"type\":\"ios-arrow-thin-right\",\"size\":\"30\"}}),_vm._v(\" \"),_c('Select',{staticClass:\"language To\",on:{\"on-change\":_vm.chooseLangTo},model:{value:(_vm.langT),callback:function ($$v) {_vm.langT=$$v},expression:\"langT\"}},_vm._l((_vm.langList.slice(1)),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(\"\\n            \"+_vm._s(item.label)+\"\\n        \")])})),_vm._v(\" \"),_c('Button',{staticClass:\"translate\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.translate}},[_vm._v(\"翻 译\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-614c90ae\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ui-navbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-614c90ae\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ui-navbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ui-navbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ui-navbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-614c90ae\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ui-navbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ui-navbar.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"wrapper-content\">\n    <div class=\"left\">\n        <Button type=\"ghost\" size=\"small\" shape=\"circle\"\n         @click=\"toClosed\" icon=\"close\" class=\"closed\"></Button>\n        <Input v-model=\"valueSrc\" type=\"textarea\" :autosize=\"{minRows: 10}\" \n        class=\"input-content\" @on-keyup=\"detectSrc\"></Input>\n        <span class=\"left-words\">{{leftwords}}/{{areaHighWordNum}}</span>\n    </div>\n    <div class=\"right\">\n        <Input v-model=\"valueDst\" type=\"textarea\" :autosize=\"{minRows: 10}\" \n        class=\"trans-content\" ref=\"highlight\" readonly></Input>\n        <span class=\"right-words\">{{rightwords}}/{{areaHighWordNum}}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from 'vuex'\n\nexport default{\n  data(){\n    return{\n      valueSrc: '',\n      leftwords: 0,\n      rightwords: 0,\n      areaHighWordNum: 20000\n    }\n  },\n  computed:{\n    ...mapState([\n      'langFrom', \n      'langTo',\n      'query'\n    ]),\n    valueDst: {\n      get: function () {\n        while (this.valueSrc) {\n          return this.$store.state.valueDst\n        }\n      },\n      set: function (newValue) {\n        this.$store.state.valueDst = newValue\n      }\n    }\n\t},\n  methods:{\n    ...mapMutations([\n      'SET_ORIGNLANG',\n\t\t  'SAVE_QUERYTEXT'\n    ]),\n    ...mapActions([\n      'getDetectLang',\n      'getTranslation'\n    ]),\n    detectSrc(e){\n      let text = e.target.value\n      this.SAVE_QUERYTEXT(text)\n      this.getInputLenght(text)\n      let from = this.$store.state.langFrom\n      if (!from || from == 'auto') {\n        setTimeout(()=>{\n          this.getDetectLang();\n        }, 500)\n      }\n    },\n    getInputLenght(text) {\n        let dst = this.leftwords;\n        this.leftwords = this.getContentLength(text, dst)\n    },\n    getContentLength(content, dst){\n        const hidWordNum = this.areaHighWordNum;\n        var sum = 0;  \n        for (var i=0; i<content.length; i++) {  \n            if ((content.charCodeAt(i)>=0)&&(content.charCodeAt(i)<=255)) {  \n                sum = sum + 1;  \n            } else {  \n                sum = sum + 2;  \n            }  \n            if (sum>hidWordNum) {  \n                alert(\"输入数据超长！不能再输入数据。\");  \n                var str = content.substring(0, i);   \n                this.valueSrc = str;\n                dst = sum;  \n                break;  \n            } else {  \n                dst = sum;    \n            }  \n        } \n        return dst \n    },\n    toClosed() {\n      this.valueSrc = '';\n      this.SET_ORIGNLANG('auto')\n    }\n  },\n  watch: {\n    valueDst(val, oldVal) {\n      if (val) {\n        let out = this.valueDst;\n        let len = this.rightwords;\n        this.rightwords = this.getContentLength(out, len)\n      } \n\n      if (val === ''){\n        this.rightwords = 0\n      }\n    },\n    valueSrc(val, oldVal) {\n      if (this.valueSrc == '') {\n        this.valueDst = '';\n        this.leftwords = 0;\n        this.rightwords = 0;\n      }\n    }\n  },\n  mounted() {\n    this.$nextTick(()=>{\n      // this.$refs.highlight\n    })\n  }\n}\n</script>\n\n<style>\n.wrapper-content {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: stretch;\n    width: 82vw;\n    margin: 0 auto;\n}\n\n.wrapper-content div{\n    width: 41vw;\n    display: flex;\n    flex-direction: column;\n}\n.wrapper-content span{\n    color: #808080;\n    text-align: right;\n    margin-right: 5px;\n}\n\n.wrapper-content textarea {\n    border-radius: 0;\n    resize: none;\n    padding: 10px;\n}\n\n.trans-content .ivu-input{\n    background: rgba(221, 222, 225, 0.2);\n}\n\n.trans-content .highlight{\n    background: red\n}\n\n.left {\n    position: relative;\n}\n.left .closed {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    z-index: 1;\n    color: rgba(128,128,128, 0.3);\n    cursor: pointer;\n    border: none;\n}\n</style>\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/ui-content.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper-content\"},[_c('div',{staticClass:\"left\"},[_c('Button',{staticClass:\"closed\",attrs:{\"type\":\"ghost\",\"size\":\"small\",\"shape\":\"circle\",\"icon\":\"close\"},on:{\"click\":_vm.toClosed}}),_vm._v(\" \"),_c('Input',{staticClass:\"input-content\",attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 10}},on:{\"on-keyup\":_vm.detectSrc},model:{value:(_vm.valueSrc),callback:function ($$v) {_vm.valueSrc=$$v},expression:\"valueSrc\"}}),_vm._v(\" \"),_c('span',{staticClass:\"left-words\"},[_vm._v(_vm._s(_vm.leftwords)+\"/\"+_vm._s(_vm.areaHighWordNum))])],1),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('Input',{ref:\"highlight\",staticClass:\"trans-content\",attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 10},\"readonly\":\"\"},model:{value:(_vm.valueDst),callback:function ($$v) {_vm.valueDst=$$v},expression:\"valueDst\"}}),_vm._v(\" \"),_c('span',{staticClass:\"right-words\"},[_vm._v(_vm._s(_vm.rightwords)+\"/\"+_vm._s(_vm.areaHighWordNum))])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47cec5e4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ui-content.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47cec5e4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ui-content.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ui-content.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ui-content.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47cec5e4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ui-content.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ui-content.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <ui-header></ui-header>\n    <ui-navbar></ui-navbar>\n    <ui-content></ui-content>\n  </div>\n</template>\n\n<script>\nimport UiHeader from '@/components/ui-header.vue'\nimport UiNavbar from '@/components/ui-navbar.vue'\nimport UiContent from '@/components/ui-content.vue'\n\nexport default {\n  name: 'app',\n  components: {\n    'ui-header': UiHeader,\n    'ui-navbar': UiNavbar,\n    'ui-content': UiContent\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 40px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ui-header'),_vm._v(\" \"),_c('ui-navbar'),_vm._v(\" \"),_c('ui-content')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d36771b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d36771b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d36771b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","export const SET_CHANNEL = 'SET_CHANNEL'\nexport const SET_ORIGNLANG = 'SET_ORIGNLANG'\nexport const SET_GOALLANG = 'SET_GOALLANG'\nexport const SET_HASCHECKED = 'SET_HASCHECKED'\nexport const GET_DETECTLANG = 'GET_DETECTLANG'\nexport const GET_TRANSLATION = 'GET_TRANSLATION'\nexport const SAVE_QUERYTEXT = 'SAVE_QUERYTEXT'\nexport const SAVE_TRANSLATION = 'SAVE_TRANSLATION'\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","//写方法\nimport {\n    SET_CHANNEL,\n    SET_ORIGNLANG,\n    SET_GOALLANG,\n    SET_HASCHECKED,\n    GET_DETECTLANG,\n    GET_TRANSLATION,\n    SAVE_QUERYTEXT,\n    SAVE_TRANSLATION\n} from './mutation-types.js'\n\nexport default {\n    // 设置翻译渠道\n    [SET_CHANNEL](state, channel) {\n        state.channel = channel\n    },\n    // 设置源语种\n    [SET_ORIGNLANG](state, lang) {\n        state.langFrom = lang\n    },\n    // 设置目标语种\n    [SET_GOALLANG](state, lang) {\n        state.langTo = lang\n    },\n    // 是否已检测\n    [SET_HASCHECKED](state, ischecked) {\n        state.hasChecked = ischecked\n    },\n\n    // 获取检测语种\n    [GET_DETECTLANG](state, lang) {\n        state.langFrom = lang\n    },\n    // 获取翻译结果\n    [GET_TRANSLATION](state, result) {\n        state.result = result\n    },\n\n    // 保存查询文本\n    [SAVE_QUERYTEXT](state, query) {\n        state.query = query\n    },\n    // 保存格式化翻译结果\n    [SAVE_TRANSLATION](state, translation) {\n        state.valueDst = translation\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","/*\n  请求方式 request(get, post)\n*/\nimport axios from 'axios';\n\n//配置接口地址\naxios.defaults.baseURL = 'http://localhost:3000';\n\nfunction get(url, params, callback) {\n    axios.get(url, params)\n        .then((res) => {\n            if (res) {\n                callback(res)\n            } else {\n                return null\n            }\n        }).catch((error) => {\n            console.log(error)\n        });\n}\n\nfunction post(url, data, callback) {\n    axios.post(url, data)\n        .then((res) => {\n            if (res) {\n                callback(res)\n            } else {\n                return null\n            }\n        }).catch((error) => {\n            console.log(error)\n        })\n}\n\nexport { post, get }\n\n\n// WEBPACK FOOTER //\n// ./src/common/request.js","/*\n    异步获取：检测语种、翻译结果\n*/\n\nimport { appkey, mapping } from './config.js'\nimport { post } from './request.js'\nimport jsonp from 'jsonp'\nimport MD5 from 'js-md5'\n\n// //获取检测结果\n\nexport const langFromDect = (query) => {\n    let text = query.text.trim().substring(0, 20); // jsonp调用百度接口，返回检测结果，text长度限制\n    let langfrom = mapping.gTobaidu[query.langfrom] || 'auto';\n    let salt = (new Date).getTime();\n    let appid = appkey.appid;\n    let str1 = appid + text + salt + appkey.key;\n    let sign = MD5(str1);\n\n    return new Promise(function(resolve, reject) {\n        jsonp(`http://api.fanyi.baidu.com/api/trans/vip/translate?q=${text}&from=${langfrom}&to=zh&appid=${appid}&salt=${salt}&sign=${sign}`,\n            null,\n            function(err, data) {\n                if (err) {\n                    return reject(error);\n                } else {\n                    return resolve(data);\n                }\n            })\n    });\n};\n\nexport const translate = (data) => {\n    return new Promise(function(resolve, reject) {\n        post('/translate', data, (res) => {\n            if (res && res.data) {\n                // console.log(res)\n                return resolve(res)\n            }\n        })\n    })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/getData.js","/*\n    处理数据\n*/\n\nimport { GET_DETECTLANG, GET_TRANSLATION } from './mutation-types.js'\nimport { langFromDect, translate } from '../common/getData'\nimport { mapping } from '../common/config.js'\n\n\nexport default {\n    // 获取检测语种\n    async getDetectLang({\n        commit,\n        state\n    }) {\n        let query = {\n            text: state.query,\n            langfrom: state.langFrom\n        }\n        let res = await langFromDect(query)\n            // console.log(res)\n        let reslang = res && res.from ? res.from : 'auto'\n        commit(GET_DETECTLANG, mapping.baidutog[reslang])\n    },\n    // 获取翻译结果\n    async getTranslation({\n        commit,\n        state\n    }, func) {\n        let data = {\n            text: state.query,\n            to: state.langTo,\n            api: state.channel\n        }\n        let result = await translate(data)\n            // console.log(result)\n        commit(GET_TRANSLATION, result.data)\n        func()\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","//状态\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport mutations from './mutations'\nimport actions from './actions'\n\nVue.use(Vuex)\n\nconst state = {\n    channel: 'google', //翻译渠道\n    langFrom: 'auto', // 源语种\n    langTo: 'zh-CN', //目标语种\n    query: '', // 翻译源文本\n    result: '', // 翻译结果\n    valueDst: '', // 结果格式化\n    hasChecked: false\n}\n\nexport default new Vuex.Store({\n    state,\n    actions,\n    mutations,\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store'\nimport iView from 'iview'\nimport 'iview/dist/styles/iview.css'\n\nVue.config.productionTip = false\nVue.use(iView)\n\n/* eslint-disable no-new */\nnew Vue({\n    el: '#app',\n    store,\n    template: '<App/>',\n    components: { App }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}